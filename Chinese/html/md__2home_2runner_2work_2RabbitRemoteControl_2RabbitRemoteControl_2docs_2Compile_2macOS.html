<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>玉兔远程控制: Compiling for macOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="app.ico"/></td>
  <td id="projectalign">
   <div id="projectname">玉兔远程控制<span id="projectnumber">&#160;0.1.0-bate7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Compiling for macOS</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md174"></a> Author: Eduardo Mozart de Oliveira <a href="#" onclick="location.href='mai'+'lto:'+'edu'+'ar'+'dom'+'oz'+'art'+'18'+'2@g'+'ma'+'il.'+'co'+'m'; return false;">eduar<span class="obfuscator">.nosp@m.</span>domo<span class="obfuscator">.nosp@m.</span>zart1<span class="obfuscator">.nosp@m.</span>82@g<span class="obfuscator">.nosp@m.</span>mail.<span class="obfuscator">.nosp@m.</span>com</a></p>
<h2><a class="anchor" id="autotoc_md175"></a>
Environment</h2>
<h3><a class="anchor" id="autotoc_md176"></a>
Operating system</h3>
<ul>
<li>macOS Sequoia, version 15.6.1</li>
</ul>
<h3><a class="anchor" id="autotoc_md177"></a>
Qt Creator</h3>
<p>Version: v18.0.0 (ARM64) It is recommended to use version v5.0.2 or later. <br  />
 Prior versions don't have CMake support.</p>
<h2><a class="anchor" id="autotoc_md178"></a>
Tools</h2>
<h3><a class="anchor" id="autotoc_md179"></a>
Install the development tools packages</h3>
<pre class="fragment">~$ xcode-select --install
</pre><ul>
<li>The Xcode development tools package already includes the installation of the following:<ul>
<li>Compiler<ul>
<li>GCC/g++</li>
<li>make</li>
<li>git</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md180"></a>
brew: https://brew.sh</h3>
<pre class="fragment"># Install Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
</pre> <h3><a class="anchor" id="autotoc_md181"></a>
getopt</h3>
<p>On macOS, the default getopt is the BSD version and does not support long options. GNU getopt needs to be installed. </p><pre class="fragment"># Install GNU getopt
brew install gnu-getopt

# Use GNU getopt (current session) temporarily
export PATH="/usr/local/opt/gnu-getopt/bin:$PATH"

# Permanent use (add to shell configuration)
echo 'export PATH="/usr/local/opt/gnu-getopt/bin:$PATH"' &gt;&gt; ~/.zshrc
echo 'alias getopt="/usr/local/opt/gnu-getopt/bin/getopt"' &gt;&gt; ~/.zshrc
source ~/.zshrc

# Verify installation
getopt --version
</pre> <h3><a class="anchor" id="autotoc_md182"></a>
automake、autoconf、fakeroot</h3>
<pre class="fragment">~$ brew install automake fakeroot
</pre> <h3><a class="anchor" id="autotoc_md183"></a>
Ninja: &lt;a href="https://ninja-build.org/" &gt;https://ninja-build.org/&lt;/a&gt;</h3>
<pre class="fragment">~$ brew install ninja
</pre> <h3><a class="anchor" id="autotoc_md184"></a>
Git: &lt;a href="https://www.git-scm.com/" &gt;https://www.git-scm.com&lt;/a&gt;</h3>
<pre class="fragment">~$ brew install git
</pre> <h3><a class="anchor" id="autotoc_md185"></a>
CMake: &lt;a href="https://cmake.org/" &gt;https://cmake.org&lt;/a&gt;</h3>
<p>Version: Greater than 3.27.0</p>
<p>~$ brew install cmake</p>
<h3><a class="anchor" id="autotoc_md186"></a>
vcpkg: &lt;a href="https://github.com/microsoft/vcpkg" &gt;https://github.com/microsoft/vcpkg&lt;/a&gt;</h3>
<pre class="fragment">~$ git clone https://github.com/microsoft/vcpkg.git
~$ cd vcpkg
~/vcpkg$ ./bootstrap-vcpkg.sh
~/vcpkg$ ./vcpkg integrate install
</pre> <h3><a class="anchor" id="autotoc_md187"></a>
Qt: &lt;a href="https://download.qt.io/official_releases/qt/" &gt;https://download.qt.io/official_releases/qt/&lt;/a&gt;</h3>
<ul>
<li>Qt (official release) Current version: Qt 6.9.3 <pre class="fragment">~$ brew install qt
</pre><ul>
<li>Set environment variable or cmake parameters:<ul>
<li>QT_ROOT</li>
<li>Qt6: Qt6_ROOT or Qt6_DIR . See: <a href="https://doc.qt.io/qt-6/cmake-get-started.html">https://doc.qt.io/qt-6/cmake-get-started.html</a></li>
<li>Qt5: Qt5_ROOT or Qt5_DIR . See: <a href="https://doc.qt.io/qt-5/cmake-get-started.html">https://doc.qt.io/qt-5/cmake-get-started.html</a></li>
<li>Environment variable <pre class="fragment">eval "$(/opt/homebrew/bin/brew shellenv)"
export QT_ROOT=$HOMEBREW_PREFIX/Cellar/qt/6.9.2

# When Qt6
export Qt6_ROOT=$QT_ROOT
# When Qt5
export Qt5_ROOT=$QT_ROOT

# Or

# When Qt6
export Qt6_DIR=$QT_ROOT/lib/cmake/Qt6
# When Qt5
export Qt5_DIR=$QT_ROOT/lib/cmake/Qt5
</pre></li>
<li>CMAKE parameters <pre class="fragment"># Qt6
cmake -DQT_ROOT=/opt/homebrew/Cellar/qt/6.9.2 -DQt6_DIR=/opt/homebrew/Cellar/qt/6.9.2/lib/cmake/Qt6 ......
# Qt5 
cmake -DQT_ROOT=/opt/homebrew/Cellar/qt/6.9.2 -DQt5_DIR=/opt/homebrew/Cellar/qt/6.9.2/lib/cmake/Qt5 ......
</pre></li>
<li>Set the Qt version of your current environment <pre class="fragment"># Set the Qt version of your current environment
export QT_SELECT="qt6"
export QTTOOLDIR="$QT_ROOT/bin"
export QTLIBDIR="$HOMEBREW_PREFIX/lib"
</pre> </li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md188"></a>
[OPTIONAL] IDE: Qt Creator. It is recommended to use version v5.0.2 or later.</h3>
<p>Prior versions don't have CMake support.</p>
<p>~$ brew install &ndash;cask qt-creator</p>
<h3><a class="anchor" id="autotoc_md189"></a>
Doxygen: &lt;a href="http://www.doxygen.nl/" &gt;http://www.doxygen.nl/&lt;/a&gt;</h3>
<pre class="fragment">~$ brew install doxygen
</pre> <h2><a class="anchor" id="autotoc_md190"></a>
Library dependencies</h2>
<ul>
<li>[MUST] RabbitCommon: <a href="https://github.com/KangLin/RabbitCommon">https://github.com/KangLin/RabbitCommon</a></li>
<li>[MUST] <a href="https://github.com/openssl/openssl">Openssl:</a> Required to run Qt.</li>
<li>[OPTIONAL] FreeRDP: <a href="https://github.com/FreeRDP/FreeRDP">https://github.com/FreeRDP/FreeRDP</a></li>
<li>[OPTIONAL] RFB<ul>
<li>[OPTIONAL] RabbitVNC: <a href="https://github.com/KangLin/RabbitVNC">https://github.com/KangLin/RabbitVNC</a></li>
<li>[OPTIONAL] LibVNCServer: <a href="https://github.com/LibVNC/libvncserver">https://github.com/LibVNC/libvncserver</a></li>
<li>[OPTIONAL] TigerVNC: <a href="https://github.com/KangLin/tigervnc">https://github.com/KangLin/tigervnc</a></li>
</ul>
</li>
<li>[OPTIONAL] QTermWidget: <a href="https://github.com/lxqt/qtermwidget">https://github.com/lxqt/qtermwidget</a></li>
<li>[OPTIONAL] QtSsh: <a href="https://github.com/condo4/QtSsh.git">https://github.com/condo4/QtSsh.git</a></li>
<li>[OPTIONAL] [SSH]<ul>
<li>libssh:<ul>
<li><a href="https://www.libssh.org/">https://www.libssh.org</a></li>
<li><a href="https://api.libssh.org/stable/index.html">libssh API</a></li>
</ul>
</li>
<li>libssh2:<ul>
<li><a href="https://www.libssh2.org/">https://www.libssh2.org</a></li>
<li><a href="https://github.com/libssh2/libssh2/">https://github.com/libssh2/libssh2</a></li>
</ul>
</li>
</ul>
</li>
<li>[OPTIONAL] <a class="el" href="classQTelnet.html">QTelnet</a>: <a href="https://github.com/silderan/QTelnet.git">https://github.com/silderan/QTelnet.git</a></li>
<li>[OPTIONAL] libtelnet: <a href="https://github.com/seanmiddleditch/libtelnet">https://github.com/seanmiddleditch/libtelnet</a></li>
<li>[OPTIONAL] libdatachannel: <a href="https://github.com/paullouisageneau/libdatachannel">https://github.com/paullouisageneau/libdatachannel</a></li>
<li>[OPTIONAL] QXmpp: <a href="https://github.com/qxmpp-project/qxmpp">https://github.com/qxmpp-project/qxmpp</a></li>
<li>[OPTIONAL] QtService: <a href="https://github.com/KangLin/qt-solutions">https://github.com/KangLin/qt-solutions</a></li>
<li>[OPTIONAL] PcapPlusPlus: <a href="https://github.com/seladb/PcapPlusPlus">https://github.com/seladb/PcapPlusPlus</a>. The WakeOnLan plugin required.</li>
<li>[OPTIONAL] FFMPEG: <a href="https://ffmpeg.org/">https://ffmpeg.org/</a>. QtMultimedia required.</li>
<li>[OPTIONAL] qtkeychain: <a href="https://github.com/frankosterfeld/qtkeychain">https://github.com/frankosterfeld/qtkeychain</a></li>
<li>[OPTIONAL] libcurl: <a href="https://curl.se">https://curl.se</a></li>
<li>[OPTIONAL] QFtpServer: <a href="https://github.com/KangLin/QFtpServer">https://github.com/KangLin/QFtpServer</a></li>
</ul>
<h3><a class="anchor" id="autotoc_md191"></a>
RabbitCommon</h3>
<ul>
<li>This library is placed in the same directory level as the project by default. <pre class="fragment">~$ git clone https://github.com/KangLin/RabbitRemoteControl.git
~$ git clone https://github.com/KangLin/RabbitCommon.git
</pre></li>
<li>If not, you must specify the CMake parameters or environment variable: <pre class="fragment">~$ git clone https://github.com/KangLin/RabbitRemoteControl.git
# Set environment variable
~$ export RabbitCommon_ROOT=[RabbitCommon install root]
~$ cd RabbitRemoteControl
# Or set CMake parameters
~/RabbitRemoteControl$ cmake -DRabbitCommon_ROOT=[RabbitCommon installation path] ......
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md192"></a>
FreeRDP</h3>
<ul>
<li>Use the brew-packaged development library <pre class="fragment">~$ brew install freerdp
</pre></li>
<li>Use vcpkg<ul>
<li>Source-code location: <a href="https://github.com/microsoft/vcpkg/">https://github.com/microsoft/vcpkg/</a> <pre class="fragment">~$ git clone https://github.com/microsoft/vcpkg.git
~$ cd vcpkg
~/vcpkg$ ./vcpkg install freerdp
</pre></li>
<li>Specify the CMake parameters: <code>-DCMAKE_TOOLCHAIN_FILE=[vcpkg installation path]/scripts/buildsystems/vcpkg.cmake</code></li>
<li>With vcpkg, the FreeRDP service is not a default feature, so you need to specify it manually.</li>
</ul>
</li>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/FreeRDP/FreeRDP">https://github.com/FreeRDP/FreeRDP</a></li>
<li>Compilation instructions: <a href="https://github.com/FreeRDP/FreeRDP/wiki/Compilation">https://github.com/FreeRDP/FreeRDP/wiki/Compilation</a> <pre class="fragment">  ~$ git clone https://github.com/FreeRDP/FreeRDP.git
  ~$ cd FreeRDP
  ~/FreeRDP$ mkdir build
  ~/FreeRDP/build$ cmake .. -DCMAKE_BUILD_TYPE=Release \
      -DCMAKE_INSTALL_PREFIX=`pwd`/install -DWITH_SERVER=ON
  ~/FreeRDP/build$ cmake --build . --config Release --target install
</pre></li>
</ul>
</li>
<li>When FreeRDP is compiled from source, the CMake parameter needs to be specified to compile this project:<ul>
<li>-DBUILD_FREERDP=ON</li>
<li>-DFreeRDP-Client_DIR=[freerdp installation path]/lib/cmake/FreeRDP-Client3</li>
<li>-DFreeRDP_DIR=[freerdp installation path]/lib/cmake/FreeRDP3</li>
<li>-DWinPR_DIR=[freerdp installation path]/lib/cmake/WinPR3</li>
<li>-DFreeRDP-Shadow_DIR=[freerdp installation path]/lib/cmake/FreeRDP-Shadow3</li>
<li>-DFreeRDP-Server_DIR=[freerdp installation path]/lib/cmake/FreeRDP-Server3</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md193"></a>
LibVNCServer</h3>
<ul>
<li>Use the brew-packaged development library <pre class="fragment">~$ brew install libvncserver
</pre></li>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/LibVNC/libvncserver">https://github.com/LibVNC/libvncserver</a> <br  />
 It is recommended to use the patches from: <a href="https://github.com/KangLin/libvncserver">https://github.com/KangLin/libvncserver</a></li>
</ul>
</li>
<li>When LibVNCServer is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-DLibVNCServer_DIR=[LibVNCServer installation path]/lib/cmake/LibVNCServer
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md194"></a>
RabbitVNC</h3>
<ul>
<li>Compile from source code Source-code location: <a href="https://github.com/KangLin/RabbitVNC">https://github.com/KangLin/RabbitVNC</a> <br  />
 <pre class="fragment">~$ brew install pixman
~$ git clone https://github.com/KangLin/RabbitVNC.git
~$ cd RabbitVNC
~/RabbitVNC$ mkdir build
~/RabbitVNC$ cd build
~/RabbitVNC$ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`pwd`/install -DCMAKE_POLICY_VERSION_MINIMUM=3.5
~/RabbitVNC$ cmake --build . --config Release --target install
</pre></li>
<li>When RabbitVNC is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-DRabbitVNC_DIR=[RabbitVNC installation path]/lib/cmake/RabbitVNC
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md195"></a>
TigerVNC</h3>
<ul>
<li>Compile from source code</li>
</ul>
<p>The official program does not support libraries. See: <a href="https://github.com/TigerVNC/tigervnc/issues/1123">https://github.com/TigerVNC/tigervnc/issues/1123</a> <br  />
 The KangLin fork has support. Source-code location: <a href="https://github.com/KangLin/tigervnc">https://github.com/KangLin/tigervnc</a> <br  />
 </p><pre class="fragment">~$ brew install pixman
~$ git clone https://github.com/KangLin/tigervnc.git
~$ cd tigervnc
~/tigervnc$ mkdir build
~/tigervnc$ cd build
~/tigervnc/build$ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`pwd`/install
~/tigervnc/build$ cmake --build .. --config Release --target install
</pre><ul>
<li>When TigerVNC is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-Dtigervnc_DIR=[TigerVNC installation path]/lib/cmake/tigervnc
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md196"></a>
libdatachannel</h3>
<ul>
<li>Use vcpkg<ul>
<li>Source-code location: <a href="https://github.com/microsoft/vcpkg/">https://github.com/microsoft/vcpkg/</a> <pre class="fragment">~$ git clone https://github.com/microsoft/vcpkg.git
~$ cd vcpkg
~/vcpkg$ ./vcpkg install libdatachannel
</pre></li>
<li>Specify the CMake parameters: <code>-DCMAKE_TOOLCHAIN_FILE=[vcpkg installation path]/scripts/buildsystems/vcpkg.cmake</code></li>
</ul>
</li>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/paullouisageneau/libdatachannel">https://github.com/paullouisageneau/libdatachannel</a></li>
<li>Compilation: <a href="https://github.com/paullouisageneau/libdatachannel/blob/master/BUILDING.md">https://github.com/paullouisageneau/libdatachannel/blob/master/BUILDING.md</a> <pre class="fragment">~$ git clone https://github.com/paullouisageneau/libdatachannel.git
~$ cd libdatachannel
~/libdatachannel$ git submodule update --init --recursive
~/libdatachannel$ mkdir build
~/libdatachannel$ cd build
~/libdatachannel/build$ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`pwd`/install
~/libdatachannel/build$ cmake --build . --config Release --target install
</pre></li>
</ul>
</li>
<li>When libdatachannel is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-DLibDataChannel_DIR=[libdatachannel installation path]/lib/cmake/LibDataChannel
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md197"></a>
QXmpp</h3>
<ul>
<li>Use the brew-packaged development library <pre class="fragment">~$ brew install qxmpp
</pre></li>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/qxmpp-project/qxmpp">https://github.com/qxmpp-project/qxmpp</a> <pre class="fragment">~$ git clone https://github.com/qxmpp-project/qxmpp.git
~$ cd qxmpp
~/qxmpp$ mkdir build
~/qxmpp$ cd build
~/qxmpp/build$ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`pwd`/install -DQt5_DIR=[Qt install path]/lib/cmake/Qt5
~/qxmpp/build$ cmake --build . --config Release --target install
</pre></li>
</ul>
</li>
<li>When QXmpp is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-DQXmpp_DIR=[libdatachannel installation path]/lib/cmake/qxmpp
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md198"></a>
QTermWidget</h3>
<ul>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/lxqt/qtermwidget">https://github.com/lxqt/qtermwidget</a> <pre class="fragment">~$ git clone https://github.com/lxqt/lxqt-build-tools.git
~$ cd lxqt-build-tools
~/lxqt-build-tools$ mkdir build
~/lxqt-build-tools$ cd build
~/lxqt-build-tools/build$ cmake ..
~/lxqt-build-tools/build$ make
~/lxqt-build-tools/build$ make install

~$ brew install vulkan-headers
~$ git clone https://github.com/lxqt/qtermwidget.git
~$ cd qtermwidget
~/qtermwidget$ mkdir build
~/qtermwidget$ cd build
~/qtermwidget/build$ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`pwd`/install
~/qtermwidget/build$ cmake --build . --config Release --target install
</pre></li>
</ul>
</li>
<li>When QTermWidget is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-Dqtermwidget6_DIR=[qtermwidget installation path]/lib/cmake/qtermwidget5
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md199"></a>
libssh</h3>
<ul>
<li>Use the brew-packaged development library <pre class="fragment">~$ brew install libssh 
</pre></li>
<li>Use vcpkg<ul>
<li>Source-code location: <a href="https://github.com/microsoft/vcpkg/">https://github.com/microsoft/vcpkg/</a> <pre class="fragment">~$ git clone https://github.com/microsoft/vcpkg.git
~$ cd vcpkg
~/vcpkg$ ./vcpkg install libssh
</pre></li>
<li>Specify the CMake parameters: <code>-DCMAKE_TOOLCHAIN_FILE=[vcpkg installation path]/scripts/buildsystems/vcpkg.cmake</code></li>
</ul>
</li>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://www.libssh.org">https://www.libssh.org</a></li>
</ul>
</li>
<li>When libssh is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-Dlibssh_DIR=[libssh installation path]/lib/cmake/libssh
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md200"></a>
QtService</h3>
<ul>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/KangLin/qt-solutions/">https://github.com/KangLin/qt-solutions/</a> <pre class="fragment">~$ git clone https://github.com/KangLin/qt-solutions.git
~$ cd qt-solutions/qtservice
~/qt-solutions/qtservice$ mkdir build
~/qt-solutions/qtservice$ cd build
~/qt-solutions/qtservice/build$ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`pwd`/install
~/qt-solutions/qtservice/build$ cmake --build . --config Release --target install
</pre></li>
</ul>
</li>
<li>When QtService is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-DQtService_DIR=[QtService installation path]/lib/cmake/QtService
</pre> </li>
</ul>
<h2><a class="anchor" id="autotoc_md201"></a>
PcapPlusPlus</h2>
<ul>
<li>Compile from source code<ul>
<li>Source-code location: <a href="https://github.com/seladb/PcapPlusPlus">https://github.com/seladb/PcapPlusPlus</a> <pre class="fragment">~$ git clone https://github.com/seladb/PcapPlusPlus.git
</pre></li>
</ul>
</li>
<li>Use vcpkg<ul>
<li>Source-code location: <a href="https://github.com/microsoft/vcpkg/">https://github.com/microsoft/vcpkg/</a> <pre class="fragment">~$ git clone https://github.com/microsoft/vcpkg.git
~$ cd vcpkg
~/vcpkg$ ./vcpkg install pcapplusplus
</pre></li>
<li>Specify the CMake parameters: <code>-DCMAKE_TOOLCHAIN_FILE=[vcpkg installation path]/scripts/buildsystems/vcpkg.cmake</code></li>
</ul>
</li>
<li>When PcapPlusPlus is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-DPcapPlusPlus_DIR=[PcapPlusPlus install path]/lib/cmake/pcapplusplus
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md202"></a>
libpcap</h3>
<p>It is dependent on PcapPlusPlus</p>
<ul>
<li>Use the brew-packaged development library <pre class="fragment">~$ brew install libpcap
</pre></li>
<li>Source-code location: <a href="https://github.com/the-tcpdump-group/libpcap">https://github.com/the-tcpdump-group/libpcap</a></li>
</ul>
<h3><a class="anchor" id="autotoc_md203"></a>
cmark</h3>
<ul>
<li>Use the brew-packaged development library <pre class="fragment">~$ brew install cmark
</pre></li>
<li>When cmark is compiled from source, the CMake parameter needs to be specified to compile this project: <pre class="fragment">-Dcmark_DIR=[PcapPlusPlus install path]/lib/cmake/cmark
</pre> </li>
</ul>
<h2><a class="anchor" id="autotoc_md204"></a>
Compile this project</h2>
<h3><a class="anchor" id="autotoc_md205"></a>
Source code</h3>
<ul>
<li>Project location: <a href="https://github.com/KangLin/RabbitRemoteControl">https://github.com/KangLin/RabbitRemoteControl</a></li>
<li>Download the source code: <pre class="fragment">~$ git clone https://github.com/KangLin/RabbitRemoteControl.git
</pre> </li>
</ul>
<h3><a class="anchor" id="autotoc_md206"></a>
CMake parameters or environment variable</h3>
<ul>
<li>CMake parameters or environment variable<ul>
<li>Qt<ul>
<li>QT_ROOT: Qt install root</li>
<li>Qt6: See: <a href="https://doc.qt.io/qt-6/cmake-get-started.html">https://doc.qt.io/qt-6/cmake-get-started.html</a><ul>
<li>Qt6_ROOT: Is same QT_ROOT</li>
<li>Qt6_DIR: $QT_ROOT/lib/cmake/Qt6</li>
</ul>
</li>
<li>Qt5: See: <a href="https://doc.qt.io/qt-5/cmake-get-started.html">https://doc.qt.io/qt-5/cmake-get-started.html</a><ul>
<li>Qt5_ROOT: Is same QT_ROOT</li>
<li>Qt5_DIR: $QT_ROOT/lib/cmake/Qt5</li>
</ul>
</li>
</ul>
</li>
<li>RabbitCommon_ROOT: RabbitCommon source code location</li>
<li>BUILD_CLIENT: Compile client. the default is ON</li>
<li>BUILD_SERVICE: Compile service. the default dependency is whether there is a QtService</li>
<li>BUILD_PLUGINS: Compile plugins. the default is ON</li>
<li>BUILD_APP: Compile applaction. the default is ON</li>
<li>BUILD_DOCS: Build docmenets. the default is OFF</li>
<li>BUILD_SHARED_LIBS: Compile shared libraries. the default is ON</li>
<li>BUILD_FREERDP: If compile FreeRDP. the default is OFF</li>
<li>WinPR_DIR: [freerdp installation path]/lib/cmake/WinPR3</li>
<li>FreeRDP_DIR: [freerdp installation path]/lib/cmake/FreeRDP3</li>
<li>FreeRDP-Client_DIR: [freerdp installation path]/lib/cmake/FreeRDP-Client3</li>
<li>BUILD_RABBITVNC: Compile RabbitVNC. the default is ON</li>
<li>RabbitVNC_DIR: [RabbitVNC installation path]/lib/cmake/RabbitVNC</li>
<li>BUILD_TigerVNC: Compile TigerVNC. the default is ON</li>
<li>TigerVNC_DIR: [TigerVNC installation path]/lib/cmake/tigervnc</li>
<li>BUILD_LibVNCServer: Compile LibVNCServer. the default is ON</li>
<li>LibVNCServer_DIR: [libvncserver installation path]/lib/cmake/LibVNCServer</li>
<li>LibDataChannel_DIR: [libdatachannel installation path]/lib/cmake/LibDataChannel</li>
<li>QXmpp_DIR=[QXmpp installation path]/lib/cmake/qxmpp</li>
<li>qtermwidget5_DIR: [qtermwidget installation path]/lib/cmake/qtermwidget5</li>
<li>libssh_DIR: [libssh installation path]/lib/cmake/libssh</li>
<li>QtService_DIR: [QtService installation path]/lib/cmake/QtService</li>
<li>PcapPlusPlus_DIR: [PcapPlusPlus install path]/lib/cmake/pcapplusplus</li>
</ul>
</li>
<li>If using vcpkg, please set the CMake parameters:<ul>
<li>CMAKE_TOOLCHAIN_FILE: [vcpkg installation path]/scripts/buildsystems/vcpkg.cmake</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md207"></a>
Compilation</h3>
<ul>
<li>Compile from the command line<ul>
<li>Not using vcpkg <pre class="fragment">~$ cd RabbitRemoteControl
~/RabbitRemoteControl$ mkdir build
~/RabbitRemoteControl/build$ cmake .. \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=`pwd`/install [...]
~/RabbitRemoteControl/build$ cmake --build . \
    --config Release --target install
</pre></li>
<li>If using vcpkg <pre class="fragment">~$ cd RabbitRemoteControl
~/RabbitRemoteControl$ mkdir build
~/RabbitRemoteControl/build$ cmake .. -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=`pwd`/install \
    -DCMAKE_TOOLCHAIN_FILE=[vcpkg installation path]/scripts/buildsystems/vcpkg.cmake \
    [options libraries]
~/RabbitRemoteControl/build$ cmake --build . \
    --config Release --target install
</pre></li>
</ul>
</li>
<li>Using an IDE (Qt Creator)<ul>
<li>Qt Versions: Menu→ Preferences→ Kits→ Qt Versions→ Add→ <code>/opt/homebrew/opt/qt/bin/qmake</code></li>
<li>Open project: Menu→ File→ Open File or project, Select the CMakeLists.txt of the project</li>
<li>Configure: Click Project→ "Build &amp; Run" in the toolbar on the left to configure CMake parameters</li>
<li>Compile and run: Click "Start Debugging of startup project" in the left toolbar, or press the shortcut key (F5)<ul>
<li>If needed, install: select install in target</li>
</ul>
</li>
<li>If using vcpkg:<ul>
<li>Menu→ Preferences→ Kits→ CMake Configuration: add <code>-DCMAKE_TOOLCHAIN_FILE:FILE=[vcpkg installation path]/scripts/buildsystems/vcpkg.cmake</code></li>
<li>Menu→ About Plugins→ vcpkg: enable</li>
<li>Menu→ Preferences→ CMake→ Vcpkg→ Vcpkg Path: add <code>[vcpkg installation path]</code></li>
</ul>
</li>
<li>If using Ninja from Homebrew: Menu→ Preferences→ Kits→ Cmake Configureration: add <code>-DCMAKE_MAKE_PROGRAM:FILE=/opt/homebrew/bin/ninja</code></li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md208"></a>
Run</h3>
<ul>
<li>The application is installed in install/bin <pre class="fragment">~$ cd RabbitRemoteControl
~/RabbitRemoteControl$ cd build/install/bin
~/RabbitRemoteControl$ ./RabbitRemoteControl.sh
# Or
~/RabbitRemoteControl$ ./RabbitRemoteControlApp
</pre> <b>Note:</b> If the plugin does not load. The plugin's dependencies may not be installed on the system. You can add the path of the dependency libraries to the environment variable <code>LD_LIBRARY_PATH</code> and/or <code>DYLD_FRAMEWORK_PATH</code>. You can also add the path of the dependency libraries to the <code>/etc/ld.so.conf</code> file, and then run ldconfig to add the dependency libraries to the system. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
<a href="mailto:kl222@126.com" >作者：康林 (kl222@126.com) </a>
<p/>
<a href="https://github.com/KangLin/LunarCalendar">版权所有(c) 康林工作室 保留所有权力</a>
</address>
</body>
</html>
